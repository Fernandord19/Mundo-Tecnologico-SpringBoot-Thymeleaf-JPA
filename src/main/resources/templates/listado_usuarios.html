<!doctype html>
<html xmlns:th=" http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>Listado de Usuarios | Mundo Tecnológico</title>

</head>
<body>

	<div th:insert="fragmentos/header :: header"></div>

	<div class="contenido">

		<div class="contenedor_mantenimiento col-md-7 m-auto">
			<div class="card card-primary">
				<div class="card-header text-center">
					<h2 class="">Listado de Usuarios</h2>
					<a th:href="@{registrar}" class="btn btn-primary">Nuevo
						Registro</a>
				</div>

				<div class="card-body">
					<div th:classappend="'text alert alert-' + (${clase})"
						th:if="${mensaje}" role="alert">
						<strong th:text="${mensaje}"></strong>
					</div>
					<table id="dataTable"
						class="table table-sm table-hover dt-responsive wrap"
						style="width: 100%">
						<thead>
							<tr>
								<th style="width: 5%;">CÓDIGO</th>
								<th style="width: 20%;">NOMBRE(S)</th>
								<th style="width: 20%;">APELLIDOS</th>
								<th style="width: 25%;">CORREO</th>
								<th style="width: 10%;">TIPO</th>
								<th style="width: 5%;">ESTADO</th>
								<th style="width: 10%;">OPERACIONES</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="u :${listaUsuarios}">
								<td th:text="${u.codigo}"></td>
								<td th:text="${u.nombre}"></td>
								<td th:text="${u.apellidos}"></td>
								<td th:text="${u.correo}"></td>
								<td
									th:text="${u.codigo_tipo_usuario == 'TPU0001' ? 'Administrador': 'Cliente'}"></td>
								<td th:text="${u.estado == 1} ? 'Activo' : 'Eliminado'" />
								<td class="text-center"><a
									th:href="@{editar/{codigo}(codigo = ${u.codigo})}"> <i
										class="fas fa-edit"></i>
								</a> <a th:href="@{/usuario/detalle/{codigo}(codigo = ${u.codigo})}"
									style="color: green"> <i class="fas fa-info-circle"></i>
								</a> <a th:href="@{/usuario/restablecer/{codigo}(codigo= ${u.codigo})}" style="color: black"><i class="fas fa-unlock"></i></a><a
									href="#" style="color: red"
									th:onclick="'javascript:ConfirmarDelete(event,\'' + ${u.numeroCodigo} + '\')'">
										<i class="fas fa-trash-alt"></i>
								</a></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<div class="modal fade" tabindex="-1">
				<div class="modal-dialog modal-md modal-dialog-centered">
					<div class="modal-content">
						<img src="" class="foto">
					</div>
				</div>
			</div>
		</div>

	</div>

	<div th:insert="fragmentos/footer :: footer"></div>

</body>
</html>
